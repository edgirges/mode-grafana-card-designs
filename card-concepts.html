<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grafana Cards POC</title>
    <link rel="stylesheet" href="styles.css?v=1.1">
</head>
<body>
    <h1>Grafana Cards POC</h1>

    <h2>CARD 1</h2>
    <div class="card">
      <div class="card-header">
        <div class="card-title">Blocked Publisher Spend</div>
      </div>
      <div class="card-number-container">
        <div class="card-number">$12,340</div>
      </div>
      <div class="card-chart-container">
        <svg viewBox="0 0 100 50" class="line-chart">
          <defs>
            <linearGradient id="areaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="#0aabc5" stop-opacity="0.2" />
              <stop offset="100%" stop-color="#0aabc5" stop-opacity="0" />
            </linearGradient>
          </defs>
          <path 
            d="M0,40 20,30 40,20 60,25 80,15 100,20 L100,50 L0,50 Z"
            fill="url(#areaGradient)"
          />
          <polyline 
            points="0,40 20,30 40,20 60,25 80,15 100,20"
            fill="none"
            stroke="#0aabc5"
            stroke-width="1.5"
          />
          <circle cx="80" cy="15" r="3" class="chart-point" />
          <div class="chart-tooltip">Peak: $15,200</div>
        </svg>
      </div>
      <div class="card-footer">
        <div class="card-action-icon">→</div>
      </div>
    </div>

    <h2>CARD 2</h2>
    <div class="card dark">
      <div class="card-header">
        <div class="card-title">GA4 Sessions Monitor</div>
      </div>
      <div class="card-number-container">
        <div class="card-number">23,400</div>
      </div>
      <div class="card-chart-container">
        <svg viewBox="0 0 100 50" class="line-chart">
          <defs>
            <linearGradient id="areaGradientDark" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="#4facfe" stop-opacity="0.2" />
              <stop offset="100%" stop-color="#4facfe" stop-opacity="0" />
            </linearGradient>
            <linearGradient id="gradient" x1="0" y1="0" x2="100%" y2="0">
              <stop offset="0%" stop-color="#4facfe" />
              <stop offset="100%" stop-color="#00f2fe" />
            </linearGradient>
          </defs>
          <path 
            d="M0,45 20,35 40,30 60,25 80,20 100,18 L100,50 L0,50 Z"
            fill="url(#areaGradientDark)"
          />
          <polyline 
            points="0,45 20,35 40,30 60,25 80,20 100,18"
            fill="none"
            stroke="url(#gradient)"
            stroke-width="1.5"
          />
          <circle cx="80" cy="20" r="3" class="chart-point dark-point" />
        </svg>
      </div>
      <div class="card-footer">
        <div class="card-action-icon dark-icon">→</div>
      </div>
    </div>

    <h2>CARD 3</h2>
    <div class="split-card">
      <div class="split-card-left">
        <div class="split-card-title">CTR Monitor</div>
        <div class="split-card-number">5.4<span class="split-card-percent">%</span></div>
        <div class="split-card-trend positive">
          <span class="trend-arrow">↑</span>
          <span class="trend-value">0.8%</span>
        </div>
      </div>
      <div class="split-card-right">
        <div class="split-card-label">Last 30 days</div>
        <svg class="split-card-chart" viewBox="0 0 100 100" preserveAspectRatio="none">
          <defs>
            <linearGradient id="splitGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#8e2de2" />
              <stop offset="100%" stop-color="#4a00e0" />
            </linearGradient>
          </defs>
          <path d="M0,70 C20,65 40,40 60,35 S80,30 100,20" 
                class="split-card-path" 
                stroke="url(#splitGradient)" 
                fill="none" 
                stroke-width="3"
                stroke-linecap="round" />
          <circle cx="60" cy="35" r="4" class="split-card-point" />
        </svg>
      </div>
    </div>

    <h2>CARD 4</h2>

    <div class="dashboard-card">
      <div class="dashboard-header">
        <div class="dashboard-title">Blocked Publishers</div>
        <div class="dashboard-badge">Alert</div>
      </div>
      <div class="dashboard-number">$1,245</div>
      <div class="dashboard-chart-container">
        <div class="dashboard-chart-label">Last 7 days</div>
        <svg class="dashboard-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
          <defs>
            <linearGradient id="dashboardGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="#6366F1" stop-opacity="0.2" />
              <stop offset="100%" stop-color="#6366F1" stop-opacity="0" />
            </linearGradient>
          </defs>
          <path d="M0,30 L15,28 L30,25 L45,20 L60,15 L75,10 L90,5 L100,8 L100,40 L0,40 Z" 
                fill="url(#dashboardGradient)" class="dashboard-area"></path>
          <path d="M0,30 L15,28 L30,25 L45,20 L60,15 L75,10 L90,5 L100,8" 
                class="dashboard-line"></path>
          <circle cx="90" cy="5" r="2" class="dashboard-point"></circle>
        </svg>
      </div>
      <div class="dashboard-footer">
        <div class="dashboard-stat">
          <span class="dashboard-stat-value">+12%</span>
          <span class="dashboard-stat-label">vs last week</span>
        </div>
      </div>
    </div>


    <h2>CARD 5</h2>

    <div class="terminal-card">
        <div class="terminal-title">CTR Alert</div>
        <div class="terminal-number">3.45%</div>
        <div class="terminal-chart"><!-- fake line chart or bars --></div>
    </div>

    <h3>CARD 6</h3>
    <div class="gradient-card">
      <div class="gradient-title">ROAS Monitor</div>
      <div class="gradient-number">4.25x</div>
      <div class="gradient-chart">
        <div class="gradient-bar" style="height: 40%" title="Mon: 3.8x"></div>
        <div class="gradient-bar" style="height: 60%" title="Tue: 4.1x"></div>
        <div class="gradient-bar" style="height: 75%" title="Wed: 4.3x"></div>
        <div class="gradient-bar" style="height: 65%" title="Thu: 4.2x"></div>
        <div class="gradient-bar" style="height: 80%" title="Fri: 4.5x"></div>
        <div class="gradient-bar" style="height: 70%" title="Sat: 4.3x"></div>
        <div class="gradient-bar" style="height: 55%" title="Sun: 4.0x"></div>
      </div>
      <div class="gradient-footer">
        <div class="gradient-date">Last 7 days</div>
        <div class="gradient-action">View details</div>
      </div>
    </div>

    <h3>AREA CHART CARD</h3>
    <div class="dark-area-card">
        <div class="dark-area-title">GA4 Sessions Monitor</div>
        <div class="dark-area-number">18,732</div>
        <svg class="area-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
          <!-- Filled Area -->
          <path d="M0,30 L10,20 L30,25 L50,10 L70,15 L90,5 L100,15 L100,40 L0,40 Z" 
                class="area-fill"></path>
          <!-- Line Chart -->
          <path d="M0,30 L10,20 L30,25 L50,10 L70,15 L90,5 L100,15" 
                class="area-line"></path>
        </svg>
      </div>

      <h3>MINIMALIST CARD</h3>
      <div class="minimal-trend-card">
        <div class="minimal-title">CTR Monitor</div>
        <div class="minimal-number">2.4%</div>
        <svg class="minimal-line-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
          <path d="M0,35 L20,30 L40,25 L60,15 L80,20 L100,10" class="minimal-line"></path>
        </svg>
      </div>
      
      <h3>MINIMALIST CARD</h3>
      <div class="neumorphic-card">
        <div class="neumorphic-title">Conversion Rate</div>
        <div class="neumorphic-number">8.7%</div>
        <div class="neumorphic-chart-container">
          <svg class="neumorphic-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
            <path d="M0,30 L20,25 L40,15 L60,20 L80,10 L100,5" class="neumorphic-line"></path>
            <circle cx="80" cy="10" r="2" class="neumorphic-point"></circle>
          </svg>
        </div>
      </div>

      <h3>MINIMALIST CARD</h3>
      <div class="retro-card">
        <div class="retro-title">Ad Frequency</div>
        <div class="retro-number">3.2x</div>
        <div class="retro-chart-container">
          <svg class="retro-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
            <path d="M0,30 L20,32 L40,25 L60,28 L80,15 L100,18" class="retro-line"></path>
            <circle cx="80" cy="15" r="2" class="retro-point"></circle>
          </svg>
          <div class="retro-grid"></div>
        </div>
      </div>

      <h3>MINIMALIST CARD</h3>
      <div class="paper-card">
        <div class="paper-title">Campaign Reach</div>
        <div class="paper-number">1.2M</div>
        <div class="paper-chart-container">
          <svg class="paper-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
            <defs>
              <linearGradient id="paperGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#ff7e5f" stop-opacity="0.7" />
                <stop offset="100%" stop-color="#ff7e5f" stop-opacity="0" />
              </linearGradient>
            </defs>
            <path d="M0,35 L20,30 L40,25 L60,15 L80,10 L100,5 L100,40 L0,40 Z" fill="url(#paperGradient)" class="paper-area"></path>
            <path d="M0,35 L20,30 L40,25 L60,15 L80,10 L100,5" class="paper-line"></path>
            <circle cx="80" cy="10" r="2" class="paper-point"></circle>
          </svg>
        </div>
      </div>

      <h3>BAR CHART INSIGHT CARD</h3>
      <div class="bar-card">
        <div class="bar-title">Conversions</div>
        <div class="bar-number">532</div>
        <div class="bar-chart">
          <div class="bar" style="height: 30%"></div>
          <div class="bar" style="height: 60%"></div>
          <div class="bar" style="height: 80%"></div>
          <div class="bar" style="height: 40%"></div>
          <div class="bar" style="height: 70%"></div>
        </div>
      </div>
      
      <h3>RADIAL PROGRESS CARD</h3>
      <div class="radial-card">
        <div class="radial-title">Budget Usage</div>
        <div class="radial-progress">
          <svg viewBox="0 0 36 36" class="circular-chart">
            <path class="circle-bg"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"/>
            <path class="circle"
              stroke-dasharray="75, 100"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"/>
            <text x="18" y="20.35" class="percentage">75%</text>
          </svg>
        </div>
      </div>
      

      <h3>Global Metrics</h3>
      <div class="global-metrics-card">
        <div class="global-metrics-header">
          <div class="global-metrics-title">101 - Conversion</div>
          <div class="global-metrics-value">104033.00</div>
          <div class="health-indicator good"></div>
        </div>
        <div class="global-metrics-chart-container">
          <div class="y-axis">
            <div class="y-axis-label">110K</div>
            <div class="y-axis-label">105K</div>
            <div class="y-axis-label">100K</div>
            <div class="y-axis-label">95K</div>
          </div>
          <svg class="global-metrics-chart" viewBox="0 0 300 100" preserveAspectRatio="none">
            <!-- Dashed baseline -->
            <path 
              d="M0,70 C30,72 60,71 90,70 C120,69 150,68 180,70 C210,72 240,71 270,70 L300,70" 
              class="baseline-path"
              stroke-dasharray="3,3" />
            
            <!-- Main line -->
            <path 
              d="M0,60 C30,40 60,30 90,50 C120,65 150,55 180,40 C210,30 240,50 270,60 L300,60" 
              class="metrics-path" />
            
            <!-- Hover area (invisible but wider for easier interaction) -->
            <path 
              d="M0,60 C30,40 60,30 90,50 C120,65 150,55 180,40 C210,30 240,50 270,60 L300,60" 
              class="hover-path" 
              stroke-width="15" 
              stroke-opacity="0" />
          </svg>
        </div>
      </div>

      <h3>Performance Dataflow</h3>
      <div class="roas-card">
        <div class="roas-title">ROAS</div>
        <div class="roas-value">251</div>
        <svg class="roas-chart" viewBox="0 0 95 40" preserveAspectRatio="none">
            <!-- Y-axis starts at x = 0 -->
            <line x1="0" y1="0" x2="0" y2="35" class="axis-line" />
            <!-- X-axis from left edge to right edge -->
            <line x1="0" y1="35" x2="95" y2="35" class="axis-line" />
            <!-- Shift chart path to match new alignment -->
            <path d="M0,30 L10,28 L20,27 L30,27 L40,27 L50,27 L60,27 L70,27 L80,27 L90,5 L95,25" class="roas-line" />
          </svg>
          
      </div>
      
      
</body>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Data for both charts
    const chartData = {
      'card1': [
        {x: 0, y: 40, value: '$8,200'},
        {x: 20, y: 30, value: '$9,800'},
        {x: 40, y: 20, value: '$11,500'},
        {x: 60, y: 25, value: '$10,900'},
        {x: 80, y: 15, value: '$15,200'},
        {x: 100, y: 20, value: '$13,800'}
      ],
      'card2': [
        {x: 0, y: 45, value: '18,500'},
        {x: 20, y: 35, value: '20,200'},
        {x: 40, y: 30, value: '21,800'},
        {x: 60, y: 25, value: '22,500'},
        {x: 80, y: 20, value: '23,400'},
        {x: 100, y: 18, value: '24,100'}
      ]
    };
    
    // Create tooltips
    const tooltip = document.createElement('div');
    tooltip.className = 'hover-tooltip';
    tooltip.style.display = 'none';
    document.body.appendChild(tooltip);
    
    const darkTooltip = document.createElement('div');
    darkTooltip.className = 'dark-tooltip';
    darkTooltip.style.display = 'none';
    document.body.appendChild(darkTooltip);
    
    // Setup tooltips for both charts
    setupChartTooltip('.card:not(.dark) .line-chart', 'card1', tooltip);
    setupChartTooltip('.card.dark .line-chart', 'card2', darkTooltip);
    
    function setupChartTooltip(selector, dataKey, tooltipElement) {
      const chart = document.querySelector(selector);
      if (!chart) return;
      
      const dataPoints = chartData[dataKey];
      const chartWidth = 100;
      
      chart.addEventListener('mousemove', function(e) {
        const rect = chart.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width * chartWidth;
        
        // Find closest data point
        let closestPoint = dataPoints[0];
        let minDistance = Math.abs(x - closestPoint.x);
        
        for (let i = 1; i < dataPoints.length; i++) {
          const distance = Math.abs(x - dataPoints[i].x);
          if (distance < minDistance) {
            minDistance = distance;
            closestPoint = dataPoints[i];
          }
        }
        
        // Position tooltip
        tooltipElement.style.display = 'block';
        tooltipElement.textContent = closestPoint.value;
        tooltipElement.style.left = (e.clientX + 10) + 'px';
        tooltipElement.style.top = (e.clientY - 30) + 'px';
      });
      
      chart.addEventListener('mouseleave', function() {
        tooltipElement.style.display = 'none';
      });
    }

    // Split card tooltip
    const splitTooltip = document.createElement('div');
    splitTooltip.className = 'split-tooltip';
    splitTooltip.style.display = 'none'; // Start hidden
    document.body.appendChild(splitTooltip);

    const splitCardPoint = document.querySelector('.split-card-point');
    if (splitCardPoint) {
      splitCardPoint.addEventListener('mouseenter', function(e) {
        splitTooltip.textContent = 'Peak CTR: 6.2%';
        splitTooltip.style.left = (e.clientX + 10) + 'px';
        splitTooltip.style.top = (e.clientY - 30) + 'px';
        splitTooltip.style.display = 'block'; // Show on hover
        splitTooltip.classList.add('visible');
      });
      
      splitCardPoint.addEventListener('mousemove', function(e) {
        splitTooltip.style.left = (e.clientX + 10) + 'px';
        splitTooltip.style.top = (e.clientY - 30) + 'px';
      });
      
      splitCardPoint.addEventListener('mouseleave', function() {
        splitTooltip.style.display = 'none'; // Hide on leave
        splitTooltip.classList.remove('visible');
      });
    }

    // Add this to your existing script
    const gradientTooltip = document.createElement('div');
    gradientTooltip.className = 'gradient-tooltip';
    document.body.appendChild(gradientTooltip);

    const gradientBars = document.querySelectorAll('.gradient-bar');
    gradientBars.forEach(bar => {
      bar.addEventListener('mouseenter', function(e) {
        gradientTooltip.textContent = this.getAttribute('title');
        gradientTooltip.style.display = 'block';
        gradientTooltip.style.left = (e.clientX + 10) + 'px';
        gradientTooltip.style.top = (e.clientY - 30) + 'px';
      });
      
      bar.addEventListener('mousemove', function(e) {
        gradientTooltip.style.left = (e.clientX + 10) + 'px';
        gradientTooltip.style.top = (e.clientY - 30) + 'px';
      });
      
      bar.addEventListener('mouseleave', function() {
        gradientTooltip.style.display = 'none';
      });
    });

    // Global Metrics tooltips
    const metricsTooltip = document.createElement('div');
    metricsTooltip.className = 'metrics-tooltip';
    document.body.appendChild(metricsTooltip);

    const healthTooltip = document.createElement('div');
    healthTooltip.className = 'health-tooltip';
    healthTooltip.innerHTML = `
      <div class="health-tooltip-title">Health Score</div>
      <div>System is operating normally</div>
      <div class="health-score">
        <div class="health-score-label">Score:</div>
        <div class="health-score-bar">
          <div class="health-score-value" style="width: 92%"></div>
        </div>
      </div>
    `;
    document.body.appendChild(healthTooltip);

    // Line chart tooltip
    const hoverPath = document.querySelector('.hover-path');
    if (hoverPath) {
      hoverPath.addEventListener('mousemove', function(e) {
        const rect = this.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const percentage = x / rect.width;
        
        // Calculate a value based on position
        const min = 95000;
        const max = 110000;
        const value = Math.round(min + (max - min) * (1 - percentage));
        
        // Generate a date based on position (last 30 days)
        const today = new Date();
        const daysAgo = Math.round(30 * percentage);
        const date = new Date(today);
        date.setDate(today.getDate() - daysAgo);
        const formattedDate = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        
        // Update tooltip content
        metricsTooltip.innerHTML = `
          <div class="tooltip-date">${formattedDate}</div>
          <div class="tooltip-value">${value.toLocaleString()}</div>
        `;
        
        // Get tooltip dimensions after content update
        metricsTooltip.style.display = 'block';
        const tooltipWidth = metricsTooltip.offsetWidth;
        
        // Position tooltip centered above cursor
        metricsTooltip.style.left = (e.clientX - tooltipWidth/2) + 'px';
        metricsTooltip.style.top = (e.clientY - 70) + 'px';
      });
      
      hoverPath.addEventListener('mouseleave', function() {
        metricsTooltip.style.display = 'none';
      });
    }

    // Health indicator tooltip
    const healthIndicator = document.querySelector('.health-indicator');
    if (healthIndicator) {
      healthIndicator.addEventListener('mouseenter', function(e) {
        const rect = this.getBoundingClientRect();
        healthTooltip.style.display = 'block';
        healthTooltip.style.left = (rect.left - 100) + 'px';
        healthTooltip.style.top = (rect.bottom + 10) + 'px';
      });
      
      healthIndicator.addEventListener('mouseleave', function() {
        healthTooltip.style.display = 'none';
      });
    }
  });
</script>
</html>